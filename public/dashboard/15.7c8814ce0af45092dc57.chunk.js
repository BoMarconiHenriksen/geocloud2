(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"9529dc4b2afe7b34dc2a":function(e,t,r){"use strict";r.r(t);var o,n=r("8af190b70a6bc55c6f1b"),i=r.n(n),a=r("ab039aecd4a1d4fedc0e"),s=r("d7dd51e1bf6bfc2c9c3d"),c=r("0b3cb19af78752326f59"),l=r("a28fc3c963a1d4d1a2e5"),u=r("921c0b8c557fe6ba5da8"),d=r.n(u),f=r("2aea235afd5c55b8b19b"),p=r.n(f),b=r("b27e083e7741c2dccb3f"),m=r.n(b),h=r("6542cd13fd5dd1bcffd4"),y=r("a72b40110d9c31c9b5c5"),v=(r("8a2d1b95e05b6a321e74"),r("0c50c1cca2596d6cae22")),g=r.n(v),w=r("16c7abd7abc407b9f247"),O=r.n(w),j=r("c7fd554010f79f6c0ef8"),S=r.n(j),P=r("71786e439547641341d9"),_=r.n(P),C=r("5c0a236ca4c0b26f32cd"),M=r.n(C),k=r("c502bee2fd4be3dd7f62"),R=r.n(k),x=r("5b91c04697eda21cf7ea");function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=n;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}if(t&&i)for(var l in i)void 0===t[l]&&(t[l]=i[l]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function B(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,D(o.key),o)}}function W(e,t){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=q(e);if(t){var n=q(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===E(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}var I,$=T(a.FormattedMessage,{id:"Register"}),A=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(a,i.a.Component);var t,r,o,n=F(a);function a(e){var t,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=n.call(this,e),r=N(t),i=function(){t.setState({agreement:!t.state.agreement})},(o=D(o="handleChange"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,t.state={name:"",email:"",password1:"",password2:"",agreement:!1},t}return t=a,(r=[{key:"render",value:function(){var e=this,t=this.state.name.length>1,r=g.a.validate(this.state.email),o=Object(x.a)(this.state.password1),n=Object(x.a)(this.state.password2),i=this.state.password1===this.state.password2,a=t&&r&&o&&n&&i&&this.state.agreement;return T("form",{},void 0,T("div",{style:{paddingBottom:"20px"}},void 0,T(O.a,{margin:"normal",fullWidth:!0},void 0,T(S.a,{id:"name",name:"name",required:!0,error:this.state.name.length>0&&!t,label:this.props.intl.formatMessage({id:"Name"}),disabled:this.props.disabled,autoFocus:!0,value:this.state.name,onChange:function(t){e.setState({name:t.target.value})}})),T(O.a,{margin:"normal",fullWidth:!0},void 0,T(S.a,{id:"email",name:"email",required:!0,error:this.state.email.length>0&&!r,label:this.props.intl.formatMessage({id:"Email address"}),disabled:this.props.disabled,value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}})),T(O.a,{margin:"normal",fullWidth:!0},void 0,T(S.a,{id:"password1",name:"password1",type:"password",required:!0,error:this.state.password1.length>0&&!o,label:this.props.intl.formatMessage({id:"Password"}),helperText:this.props.intl.formatMessage({id:"Minimum 8 characters long, at least one capital letter and one digit"}),disabled:this.props.disabled,value:this.state.password1,onChange:function(t){e.setState({password1:t.target.value})}})),T(O.a,{margin:"normal",fullWidth:!0},void 0,T(S.a,{id:"password2",name:"password2",type:"password",required:!0,error:this.state.password2.length>0&&(!n||!i),label:this.props.intl.formatMessage({id:"Retype password"}),helperText:this.state.password2.length>0&&!i&&this.props.intl.formatMessage({id:"Passwords do not match"}),disabled:this.props.disabled,value:this.state.password2,onChange:function(t){e.setState({password2:t.target.value})}})),T(_.a,{row:!0},void 0,T(M.a,{control:T(R.a,{disabled:this.props.disabled,checked:this.state.agreement,onChange:this.handleChange.bind(this),value:"checkedA"}),label:this.props.intl.formatMessage({id:"I have read the User agreement and Privacy policy"})}))),T(p.a,{type:"button",onClick:function(){e.props.onSubmit({data:{name:e.state.name,email:e.state.email,password:e.state.password1}})},fullWidth:!0,variant:"contained",disabled:!a||this.props.disabled,color:"primary"},void 0,$))}}])&&B(t.prototype,r),o&&B(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(),U=Object(a.injectIntl)(A),J=r("3e235147bd1b1a740b88"),L=r("6c5691deae569949d0a7");function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t,r,o){I||(I="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),1===i)t.children=o;else if(i>1){for(var a=new Array(i),s=0;s<i;s++)a[s]=arguments[s+3];t.children=a}if(t&&n)for(var c in n)void 0===t[c]&&(t[c]=n[c]);else t||(t=n||{});return{$$typeof:I,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function H(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(n=o.key,i=void 0,i=function(e,t){if("object"!==z(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==z(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"),"symbol"===z(i)?i:String(i)),o)}var n,i}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,o=V(e);if(t){var n=V(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return function(e,t){if(t&&("object"===z(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=c.a.div.withConfig({displayName:"SignupPage__ErrorWrapper",componentId:"rtmpud-0"})(["padding-top:10px;"]),Y=c.a.div.withConfig({displayName:"SignupPage__SuccessWrapper",componentId:"rtmpud-1"})(["padding-top:20px;padding-bottom:20px;"]),Z=G(d.a,{variant:"h6",gutterBottom:!0},void 0,G(a.FormattedMessage,{id:"User was created, you can now Sign in"})),ee=G(a.FormattedMessage,{id:"Username"}),te=G("div",{},void 0,G(a.FormattedMessage,{id:"Database creation is disabled"})),re=G(p.a,{type:"button",fullWidth:!0,variant:"contained",color:"secondary"},void 0,G(a.FormattedMessage,{id:"Sign in"})),oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(s,i.a.Component);var t,r,o,n=Q(s);function s(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n.call(this,e)}return t=s,(r=[{key:"componentWillMount",value:function(){this.props.dispatch(Object(y.k)())}},{key:"render",value:function(){var e,t,r,o,n,i=this,s=null!==(e=this.props)&&void 0!==e&&null!==(t=e.gc2Configuration)&&void 0!==t&&null!==(r=t.gc2Options)&&void 0!==r&&r.loginLogo?this.props.gc2Configuration.gc2Options.loginLogo:"/dashboard/assets/img/MapCentia_500.png";return G(J.a,{logo:s},void 0,this.props.success&&this.props.username?G(Y,{},void 0,Z,G(d.a,{variant:"h6",gutterBottom:!0},void 0,ee,": ",G("strong",{},void 0,this.props.username))):null!==(o=this.props.gc2Configuration)&&void 0!==o&&null!==(n=o.gc2Options)&&void 0!==n&&n.disableDatabaseCreation?te:G(U,{disabled:!!this.props.loading,onSubmit:function(e){i.props.dispatch(Object(y.j)(e))}}),!!this.props.error&&G(X,{},void 0,G(d.a,{variant:"body1",gutterBottom:!0,color:"error"},void 0,G(a.FormattedMessage,{id:"errors.".concat(this.props.errorCode)}))),!this.props.success&&G(m.a,{style:{marginTop:"20px",marginBottom:"20px"}}),G(L.a,{to:"/dashboard/sign-in"},void 0,re))}}])&&H(t.prototype,r),o&&H(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(),ne=Object(l.b)({loading:Object(h.g)(),success:Object(h.j)(),username:Object(h.k)(),error:Object(h.h)(),errorCode:Object(h.i)(),gc2Configuration:Object(h.l)()});t.default=Object(s.connect)(ne)(oe)}}]);