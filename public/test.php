<?php
$xml = '
<MultiPolygon><polygonMember>
<Polygon>
<outerBoundaryIs>
<LinearRing>
<coordinates>
521802.0360588,6334028.4366091 521798.986,6334024.235 521822.703,6334001.15 521835.313,6333991.863 521844.4913396,6333985.2934395 521844.470171,6333985.285613 521823.327826,6333975.757552 521820.260372,6333971.568405 521818.924545,6333969.778769 521794.022096,6333958.481069 521788.720018,6333957.511266 521775.905976,6333955.581659 521765.557441,6333955.291718 521761.195389,6333955.771621 521757.855823,6333956.151543 521755.522249,6333958.731018 521756.223145,6333961.410473 521757.847577,6333966.529431 521765.780079,6333978.047086 521775.180341,6333991.854276 521780.111356,6333998.602902 521797.147271,6334021.778185 521801.9952288,6334028.4713902 521802.0360588,6334028.4366091
</coordinates>
</LinearRing>
</outerBoundaryIs>
</Polygon>
</polygonMember>
<polygonMember>
<Polygon>
<outerBoundaryIs>
<LinearRing>
<coordinates>
521960.3716475,6334179.9878378 521962.0150055,6334148.3451147 521935.308,6334146.834 521936.132,6334184.414 521918.606,6334186.855 521923.109,6334193.184 521972.802,6334184.788 521971.666,6334177.635 521960.431,6334179.977 521960.3716475,6334179.9878378
</coordinates>
</LinearRing>
</outerBoundaryIs>
</Polygon>
</polygonMember>
<polygonMember>
<Polygon>
<outerBoundaryIs>
<LinearRing>
<coordinates>
522009.871987,6334098.7247236 522056.223453,6334099.382389 522057.773671,6334099.402385 522060.59375,6334083.815558 522096.380714,6334084.025515 522093.280277,6334109.970234 522099.794494,6334108.570519 522117.91886,6334104.981249 522136.999743,6334101.082043 522137.222381,6334092.663757 522164.771747,6334086.894931 522168.498868,6334056.631091 522176.6705,6334045.083441 522175.070806,6334009.4207 522172.514595,6334010.170548 522151.941213,6334014.589648 522123.328133,6334019.798588 522111.874656,6334021.398262 522093.610111,6334023.737786 522082.502958,6334024.837562 522071.000006,6334025.317465 522069.895062,6334025.447438 522051.374896,6334025.917343 522032.689813,6334025.817363 522014.054205,6334025.087511 522010.673409,6334024.79757 522003.6987612,6334024.2278114 522010.76,6334024.848 522009.886,6334098.719 522009.871987,6334098.7247236
</coordinates>
</LinearRing>
</outerBoundaryIs>
</Polygon>
</polygonMember>
<polygonMember>
<Polygon>
<outerBoundaryIs>
<LinearRing>
<coordinates>
521991.2376955,6334023.067184 521977.896178,6334021.488244 521961.8743375,6334019.5080324 521977.999,6334021.685 521991.2376955,6334023.067184
</coordinates>
</LinearRing>
</outerBoundaryIs>
</Polygon>
</polygonMember>
<polygonMember>
<Polygon>
<outerBoundaryIs>
<LinearRing>
<coordinates>
521952.2509435,6334017.9341718 521949.876799,6334017.52905 521939.355101,6334015.459471 521923.0638713,6334011.1769876 521939.43,6334015.486 521949.957,6334017.548 521952.2509435,6334017.9341718
</coordinates>
</LinearRing>
</outerBoundaryIs>
</Polygon>
</polygonMember>
</MultiPolygon>';
include_once("../app/libs/phpgeometry_class.php");
$gmlCon = new gmlConverter;
$wktArray = $gmlCon->gmlToWKT($xml);

print_r($wktArray);

if (!empty($wktArray[0])) {
    $geoColObj = geometryfactory::createGeometryCollection($wktArray[0]);

    $txGeomData = "";
    foreach ($geoColObj->getGeometryArray() as $value) {
        $txGeomData .= $value->getWkt();
    }

    unset($geoColObj);
}

unset($gmlCon);
unset($wktArray);
